/* Lotus Music · VK Digital-отчёт (MVP) */
:root{
  --bg:#0b0d12;
  --card:#121622;
  --muted:#9aa3b2;
  --text:#eef2ff;
  --line:rgba(255,255,255,.08);
  --accent:#7c5cff;
  --danger:#ff4d6d;
  --ok:#2dd4bf;
  --shadow: 0 18px 60px rgba(0,0,0,.35);
  --radius:18px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
  background: radial-gradient(1200px 800px at 20% 0%, rgba(124,92,255,.18), transparent 60%),
              radial-gradient(1200px 800px at 80% 0%, rgba(45,212,191,.12), transparent 60%),
              var(--bg);
  color:var(--text);
}

.container{max-width:1180px; margin:18px auto 80px; padding:0 16px;}
.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; gap:16px; align-items:center; justify-content:space-between;
  padding:12px 16px;
  background: rgba(11,13,18,.75);
  backdrop-filter: blur(10px);
  border-bottom:1px solid var(--line);
}
.brand{display:flex; gap:12px; align-items:center;}
.logo{
  width:42px; height:42px; border-radius:14px;
  display:grid; place-items:center;
  background: linear-gradient(135deg, rgba(124,92,255,.9), rgba(45,212,191,.75));
  font-weight:900;
}
.brandTitle{font-weight:800; letter-spacing:.2px}
.brandSub{font-size:12px; color:var(--muted); margin-top:2px}
.nav{display:flex; gap:8px; flex-wrap:wrap}
.tabBtn{
  border:1px solid var(--line);
  background: rgba(255,255,255,.03);
  color:var(--text);
  padding:9px 12px;
  border-radius:999px;
  cursor:pointer;
  font-weight:700;
}
.tabBtn.active{border-color:rgba(124,92,255,.55); background:rgba(124,92,255,.18)}
.tabBtn:hover{background:rgba(255,255,255,.06)}

.page{display:none}
.page.active{display:block}
.pageHead{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; margin:14px 0 10px;
}
.pageHead h1{margin:0; font-size:22px}
.actions{display:flex; gap:10px; align-items:center}

.card{
  background: rgba(18,22,34,.92);
  border:1px solid var(--line);
  border-radius: var(--radius);
  padding:14px;
  box-shadow: var(--shadow);
  margin:12px 0;
}
.cardTitle{
  display:flex; align-items:center; justify-content:space-between;
  gap:10px;
  margin-bottom:10px;
}
.cardTitle h2, .cardTitle h3{margin:0; font-size:16px}
.pill{
  font-size:12px;
  padding:5px 9px;
  border-radius:999px;
  border:1px solid var(--line);
  color:var(--muted);
  background: rgba(255,255,255,.03);
}
.hint{font-size:12px; color:var(--muted); margin-top:10px; line-height:1.45}
.muted{color:var(--muted)}
.row{display:flex; gap:10px; align-items:center}
.spacer{flex:1}
.grid{display:grid; gap:12px}
.grid.cols2{grid-template-columns: 1fr 1fr}
@media (max-width:820px){
  .grid.cols2{grid-template-columns: 1fr}
}

.field label{display:block; font-size:12px; color:var(--muted); margin-bottom:6px}
.field input, .field select, select, input[type="file"]{
  width:100%;
  background: rgba(255,255,255,.04);
  border:1px solid var(--line);
  color:var(--text);
  border-radius:12px;
  padding:10px 11px;
  outline:none;
}
.field input:focus, .field select:focus, select:focus{
  border-color: rgba(124,92,255,.65);
  box-shadow: 0 0 0 4px rgba(124,92,255,.12);
}

.btn{
  border:1px solid var(--line);
  background: rgba(255,255,255,.05);
  color:var(--text);
  padding:10px 12px;
  border-radius:12px;
  cursor:pointer;
  font-weight:800;
}
.btn.inline{padding:8px 10px}
.btn.primary{background: rgba(124,92,255,.22); border-color: rgba(124,92,255,.55)}
.btn.primary:hover{background: rgba(124,92,255,.28)}
.btn.danger{background: rgba(255,77,109,.16); border-color: rgba(255,77,109,.55)}
.btn.danger:hover{background: rgba(255,77,109,.22)}
.btn:disabled{opacity:.45; cursor:not-allowed}
.iconBtn{
  border:1px solid var(--line);
  background: rgba(255,255,255,.03);
  color:var(--text);
  border-radius:12px;
  padding:6px 9px;
  cursor:pointer;
}
.iconBtn:hover{background: rgba(255,255,255,.06)}

.list{display:flex; flex-direction:column; gap:10px}
.item{
  border:1px solid var(--line);
  border-radius: 14px;
  padding:12px;
  background: rgba(255,255,255,.03);
}
.itemHead{display:flex; align-items:center; justify-content:space-between; gap:10px}
.itemTitle{font-weight:900}
.itemMeta{font-size:12px; color:var(--muted); margin-top:6px}
.itemActions{display:flex; gap:8px; flex-wrap:wrap}

.stack{display:flex; flex-direction:column; gap:12px; margin-top:12px}
.commCard{border:1px solid var(--line); border-radius: 16px; padding:12px; background: rgba(255,255,255,.03)}
.commTop{display:flex; align-items:center; justify-content:space-between; gap:10px}
.commName{font-weight:900}
.commSub{font-size:12px; color:var(--muted); margin-top:4px}

.badgeOk{border-color: rgba(45,212,191,.5); color: rgba(45,212,191,.9)}
.badgeWarn{border-color: rgba(255,179,71,.55); color: rgba(255,179,71,.95)}
.badgeErr{border-color: rgba(255,77,109,.55); color: rgba(255,77,109,.9)}

.locked{opacity:.6; pointer-events:none}
.cascade{display:flex; flex-direction:column; gap:10px}

.previewRow{margin-top:12px}
.coverPreview{
  width:180px; height:180px; object-fit:cover;
  border-radius: 16px; border:1px solid var(--line);
}

.modal{
  position:fixed; inset:0; z-index:50;
  display:grid; place-items:center;
  background: rgba(0,0,0,.6);
  padding:16px;
}
.modalCard{
  width:min(720px, 100%);
  background: rgba(18,22,34,.97);
  border:1px solid var(--line);
  border-radius: 18px;
  padding:14px;
  box-shadow: var(--shadow);
}

.miniTableWrap{margin-top:10px}
.miniTableTitle{font-size:12px; color:var(--muted); margin-bottom:6px}
.miniTable{width:100%; border-collapse:collapse; overflow:hidden; border-radius: 12px; border:1px solid var(--line)}
.miniTable th,.miniTable td{padding:8px 9px; border-bottom:1px solid var(--line); font-size:12px}
.miniTable th{color:var(--muted); text-align:left; background: rgba(255,255,255,.02)}

.footer{
  position:fixed; left:0; right:0; bottom:0;
  padding:10px 16px;
  font-size:12px;
  color:var(--muted);
  background: rgba(11,13,18,.75);
  border-top:1px solid var(--line);
  backdrop-filter: blur(10px);
}

/* -------------------------
   REPORT (print-ready)
-------------------------- */
#report-root{margin-top:12px}
.pageSheet{
  width: 1123px; /* ~A4 landscape at 96dpi */
  height: 794px;
  margin: 0 auto 14px;
  background:#ffffff;
  color:#0b0d12;
  border-radius: 10px;
  overflow:hidden;
  border:1px solid rgba(0,0,0,.12);
  box-shadow: 0 18px 60px rgba(0,0,0,.22);
}
.sheetInner{padding:34px 42px; height:100%; display:flex; flex-direction:column}
.sheetHeader{display:flex; align-items:center; justify-content:space-between; gap:10px}
.lotusMark{font-weight:900; letter-spacing:.4px; font-size:12px; opacity:.85}
.sheetTitle{font-weight:950; font-size:34px; text-align:center; margin:12px 0 4px}
.sheetSub{font-weight:700; font-size:14px; text-align:center; opacity:.8; margin-bottom:18px}
.coverCenter{display:flex; align-items:center; justify-content:center; flex:1}
.coverImg{width:320px; height:320px; object-fit:cover; border-radius: 14px; border:1px solid rgba(0,0,0,.12)}
.coverName{font-weight:950; font-size:18px; text-align:center; margin-top:16px}

.kpiGrid{display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; margin-top:12px}
.kpi{
  border:1px solid rgba(0,0,0,.12);
  border-radius: 12px;
  padding:12px;
}
.kpiLabel{font-size:12px; opacity:.75}
.kpiValue{font-size:22px; font-weight:950; margin-top:6px}

.creativesRow{display:flex; gap:10px; align-items:center; justify-content:space-between; margin-top:12px}
.creativeImg{height:210px; flex:1; object-fit:contain; border-radius: 10px; border:1px solid rgba(0,0,0,.12); background:#fafafa}

.table{
  width:100%;
  border-collapse:collapse;
  border:1px solid rgba(0,0,0,.12);
  border-radius: 12px;
  overflow:hidden;
  margin-top:12px;
  font-size:12px;
}
.table th,.table td{padding:8px 9px; border-bottom:1px solid rgba(0,0,0,.10)}
.table th{background:#f6f7fb; text-align:left; font-weight:900}

.chartBox{border:1px solid rgba(0,0,0,.12); border-radius: 12px; padding:10px; margin-top:12px}
.chartTitle{font-weight:900; font-size:12px; opacity:.75; margin-bottom:8px}
.svgChart{width:100%; height:auto}

.streamsGrid{display:grid; grid-template-columns: 2fr 1fr; gap:12px; margin-top:12px; align-items:start}
@media (max-width:1200px){
  .pageSheet{width:100%; height:auto}
}

@media print{
  body{background:#fff}
  .topbar, .footer, .pageHead, .hint {display:none !important}
  .container{max-width:none; margin:0; padding:0}
  #page-report{display:block !important}
  #report-root{margin:0}
  .pageSheet{
    width:auto; height:auto; margin:0; border:none; border-radius:0; box-shadow:none;
    page-break-after: always;
  }
}
